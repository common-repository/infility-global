"use strict";!function(){window.console.log("[Infility Global Plugin] consent mode widget enabled"),window.dataLayer=window.dataLayer||[];function a(t,e){!t||!e||!t instanceof HTMLElement||("string"==typeof e?t.innerHTML=e:e instanceof HTMLElement?t.appendChild(e):Array.isArray(e)&&e.forEach(function(e){a(t,e)}))}function n(){var n={},o=document.querySelector(".infility-global-consent-mode-popup");l.forEach(function(e){var t=o.querySelector("input[type=checkbox][name="+e.key+"]");t&&(t.checked?n[e.key]="granted":n[e.key]="denied")}),d(n),s&&s.remove(),i&&i.remove()}function e(){var e,t,n;window.infility_init_consent_mode||(window.infility_init_consent_mode=!0,(e=(e=window.localStorage.getItem(o))&&JSON.parse(e))?d(e):(e=c("input",{type:"button",value:"Accept",class:"infility-global-consent-mode-button infility-global-consent-mode-button-grant"},[]),t=c("input",{type:"button",value:"Settings",class:"infility-global-consent-mode-button infility-global-consent-mode-button-deny"},[]),n=c("div",{class:"infility-global-consent-mode-banner"},[c("div",{class:"infility-global-consent-mode-banner-wrap"},[c("div",{},"This website uses cookies to ensure you get the best exprerience on our website."),t,e])]),e.addEventListener("click",r),t.addEventListener("click",u),document.body.appendChild(n),i=n))}var i,s,t=function(){window.dataLayer.push(arguments)},l=[{key:"ad_storage",desc:"Enables storage, such as cookies (web) or device identifiers (apps), related to advertising."},{key:"ad_user_data",desc:"Sets consent for sending user data to Google for online advertising purposes."},{key:"ad_personalization",desc:"Sets consent for personalized advertising."},{key:"analytics_storage",desc:"Enables storage, such as cookies (web) or device identifiers (apps), related to analytics, for example, visit duration."},{key:"functionality_storage",desc:"Enables storage that supports the functionality of the website or app, for example, language settings"},{key:"personalization_storage",desc:"Enables storage related to personalization, for example, video recommendations"},{key:"security_storage",desc:"Enables storage related to security such as authentication functionality, fraud prevention, and other user protection"}],o="infility_consent",c=function(e,t,n){var o,i=document.createElement(e);for(o in t)i.setAttribute(o,t[o]);return a(i,n),i},d=function(e){window.console.log("[Infility Global Plugin] consent mode - update",e),t("consent","update",e),window.localStorage.setItem(o,JSON.stringify(e))},r=function(){var t={};l.forEach(function(e){t[e.key]="granted"}),d(t),i&&i.remove()},u=function(){var t=[],e=(l.forEach(function(e){t.push(c("tr",{},[c("td",{style:"text-align: center;"},[c("input",{type:"checkbox",name:e.key,checked:!0},[])]),c("td",{},e.desc)]))}),c("input",{type:"button",value:"Save",class:"infility-global-consent-mode-button infility-global-consent-mode-button-grant infility-global-consent-mode-button-save"},[]));e.addEventListener("click",n),s=c("div",{class:"infility-global-consent-mode-popup"},[c("div",{class:"infility-global-consent-mode-popup-wrap"},[c("table",{class:"infility-global-consent-mode-table"},[c("tr",{},[c("th",{},"Check"),c("th",{},"Description")]),t]),e])]),document.body.appendChild(s)};window.addEventListener("load",function(){e()}),document.addEventListener("DOMContentLoaded",function(){e()})}();